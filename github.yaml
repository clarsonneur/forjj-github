---
plugin: "github"
version: "0.1"
description: "Upstream github plugin for FORJJ. It properly configure github.com or entreprise with organisation/repos"
runtime:
  docker_image: "docker.hos.hpecorp.net/forjj-us/github"
  service_type: "REST API"
  service:
    #socket: "github.sock"
    parameters: [ "service", "start" ]
actions:
 common:
   flags:
     forjj-infra:
       help: "Name of the Infra repository to use"
     github-debug:
       help: "To activate github debug information"
     forjj-source-mount:
       help: "Where the source dir is located for github plugin."
 create:
   help: "Create the github environment to manage source and infra code."
   flags:
     github-token:
       help: "github token to access. This token must authorize organization level access."
       required: true
     github-server:
       help: "Github Entreprise Server name. By default, public 'github.com' API is used."
     forjj-organization:
       help: "Default FORJJ Organization. Used by default as github organization. If you want different one, use --github-organization"
     github-organization:
       help: "Github Organization name. By default, it uses the FORJJ organization name"
 update:
   help: "Update the github infrastructure in the infra repository."
 maintain:
   help: "Maintain github infrastructure from the infra repository"
   flags:
     github-token:
       help: "github token to access. This token must authorize organization level access."
       required: true
     forjj-workspace-mount:
       help: "Where the workspace dir is located for github plugin."
